using Nova.Compat;
using Nova.InternalNamespace_0.InternalNamespace_4;
using Nova.InternalNamespace_0.InternalNamespace_2;
using Nova.InternalNamespace_0.InternalNamespace_9;
using Nova.InternalNamespace_0.InternalNamespace_12;
using Nova.InternalNamespace_0.InternalNamespace_5;
using Nova.InternalNamespace_0.InternalNamespace_5.InternalNamespace_6;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using Unity.Burst;
using Unity.Collections;
using Unity.Collections.LowLevel.Unsafe;
using Unity.Mathematics;

namespace Nova.InternalNamespace_0.InternalNamespace_10
{
    internal struct InternalType_403
    {
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_133 InternalField_1465;
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_133 InternalField_1466;

        public InternalType_403(InternalType_133 InternalParameter_1777, InternalType_133 InternalParameter_1778)
        {
            InternalField_1465 = InternalParameter_1777;
            InternalField_1466 = InternalParameter_1778;
        }
    }

    
    [BurstCompile]
    [StructLayoutAttribute(LayoutKind.Sequential)]
    internal struct InternalType_404 : InternalType_193
    {
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NativeList<InternalType_131> InternalField_1467;
        [NativeDisableContainerSafetyRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NativeList<InternalType_222> InternalField_1468;
        [NativeDisableContainerSafetyRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NativeList<InternalType_299<InternalType_71>> InternalField_1469;
        [NativeDisableContainerSafetyRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NativeList<InternalType_224> InternalField_1470;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_133> InternalField_1471;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_161<InternalType_348, InternalType_80> InternalField_1472;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_161<InternalType_348, InternalType_82> InternalField_1473;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_360 InternalField_1474;
        [NativeDisableContainerSafetyRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_161<InternalType_348, InternalType_79> InternalField_1475;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NativeList<InternalType_53.InternalType_55> InternalField_1476;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_161<InternalType_133, InternalType_73> InternalField_1477;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_161<InternalType_133, InternalType_643> InternalField_1479;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_304> InternalField_1480;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_358> InternalField_1481;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_359 InternalField_1482;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, byte> InternalField_3303;
        [ReadOnly]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_643> InternalField_762;

        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_643, InternalType_306> InternalField_1484;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_284> InternalField_1485;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_339> InternalField_1486;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_161<InternalType_133, int> InternalField_1487;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_164<InternalType_403>> InternalField_1488;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_302> InternalField_1489;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_162<InternalType_288, InternalType_373>> InternalField_1490;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_161<InternalType_133, InternalType_304> InternalField_1491;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_380> InternalField_1492;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_161<InternalType_133, InternalType_358> InternalField_1493;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public NovaHashMap<InternalType_131, InternalType_164<InternalType_131>> InternalField_1494;
        [NativeDisableParallelForRestriction]
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        public InternalType_161<InternalType_643, InternalType_643> InternalField_3689;

        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        private InternalType_131 InternalField_1495;
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        private InternalType_302 InternalField_1496;
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        private InternalType_284 InternalField_1497;
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        private InternalType_162<InternalType_288, InternalType_373> InternalField_1498;
        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        private InternalType_380 InternalField_1499;

        [System.Diagnostics.DebuggerBrowsable(System.Diagnostics.DebuggerBrowsableState.Never)]
        private InternalType_288 InternalProperty_338
        {
            [MethodImpl(MethodImplOptions.AggressiveInlining)]
            get => InternalField_1498.InternalProperty_216;
        }

        public void Execute(int index)
        {
            InternalField_1495 = InternalField_1467[index];

            InternalType_164<InternalType_403> InternalVar_1 = InternalField_1488.InternalMethod_1557(InternalField_1495);

            InternalField_1497 = InternalField_1485.InternalMethod_1557(InternalField_1495);
            InternalField_1498 = InternalField_1490.InternalMethod_1557(InternalField_1495);
            InternalField_1496 = InternalField_1489.InternalMethod_1557(InternalField_1495);

            InternalField_1499 = InternalField_1492[InternalField_1495];
            InternalType_339 InternalVar_2 = InternalField_1486.InternalMethod_1557(InternalField_1495);

            InternalType_164<InternalType_131> InternalVar_3 = InternalField_1494.InternalMethod_1557(InternalField_1495);

            InternalType_133 InternalVar_4 = InternalField_1471[InternalField_1495];
            InternalVar_1.InternalMethod_785(new InternalType_403(InternalVar_4, InternalType_133.InternalField_418));
            while (InternalVar_1.InternalMethod_792(out InternalType_403 InternalVar_5))
            {
                ref InternalType_222 InternalVar_6 = ref InternalField_1468.ElementAt(InternalVar_5.InternalField_1465);
                ref InternalType_224 InternalVar_7 = ref InternalField_1470.ElementAt(InternalVar_5.InternalField_1465);

                if (InternalVar_7.InternalField_589 != InternalField_1495)
                {
                    InternalVar_3.InternalMethod_785(InternalVar_7.InternalField_589);
                    continue;
                }

                ref InternalType_299<InternalType_71> InternalVar_8 = ref InternalField_1469.ElementAt(InternalVar_5.InternalField_1465);
                InternalField_1487[InternalVar_5.InternalField_1465] = InternalVar_2.InternalMethod_1500(InternalVar_8.InternalField_983.InternalField_233);

                InternalType_643 InternalVar_9 = InternalMethod_1541(ref InternalVar_5.InternalField_1465, ref InternalVar_6);
                InternalMethod_1630(InternalVar_6.InternalField_585, ref InternalVar_5);
                InternalMethod_1629(InternalVar_6.InternalField_585, ref InternalVar_5);

                InternalMethod_1631(ref InternalVar_1, ref InternalVar_5.InternalField_1465, ref InternalVar_6);

                if (!InternalVar_8.InternalField_983.InternalField_235 || (NovaApplication.ConstIsEditor && InternalField_3303.ContainsKey(InternalVar_6.InternalField_585)))
                {
                    continue;
                }

                switch (InternalVar_8.InternalField_983.InternalField_234)
                {
                    case InternalType_72.InternalField_237:
                        InternalMethod_1514(ref InternalVar_5.InternalField_1465, ref InternalVar_9, ref InternalVar_8);
                        break;
                    case InternalType_72.InternalField_238:
                        InternalMethod_1522(ref InternalVar_5.InternalField_1465, ref InternalVar_9, ref InternalVar_8);
                        break;
                    case InternalType_72.InternalField_239:
                        InternalMethod_1534(ref InternalVar_5.InternalField_1465, ref InternalVar_9, ref InternalVar_8);
                        break;
                }
            }

            InternalField_1494[InternalField_1495] = InternalVar_3;
            InternalField_1497.InternalMethod_1286();
            InternalVar_2.InternalMethod_1502();
            InternalField_1485[InternalField_1495] = InternalField_1497;
            InternalField_1486[InternalField_1495] = InternalVar_2;
            InternalField_1490[InternalField_1495] = InternalField_1498;
            InternalField_1489[InternalField_1495] = InternalField_1496;
            InternalField_1488[InternalField_1495] = InternalVar_1;
            InternalField_1499.InternalMethod_1597();
            InternalField_1492[InternalField_1495] = InternalField_1499;
        }

        private void InternalMethod_1629(InternalType_131 InternalParameter_1779, ref InternalType_403 InternalParameter_1780)
        {
            if (InternalField_1481.TryGetValue(InternalParameter_1779, out InternalType_358 InternalVar_1))
            {
                InternalField_1493[InternalParameter_1780.InternalField_1465] = InternalVar_1;
                return;
            }
            else
            {
                InternalField_1493[InternalParameter_1780.InternalField_1465] = InternalField_1493[InternalParameter_1780.InternalField_1466];
            }
        }

        private void InternalMethod_1630(InternalType_131 InternalParameter_1781, ref InternalType_403 InternalParameter_1782)
        {
            if (InternalField_1480.TryGetValue(InternalParameter_1781, out InternalType_304 InternalVar_1))
            {
                InternalField_1491[InternalParameter_1782.InternalField_1465] = InternalVar_1;
                return;
            }
            else
            {
                InternalField_1491[InternalParameter_1782.InternalField_1465] = InternalField_1491[InternalParameter_1782.InternalField_1466];
            }
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private void InternalMethod_1631(ref InternalType_164<InternalType_403> InternalParameter_1783, ref InternalType_133 InternalParameter_1784, ref InternalType_222 InternalParameter_1785)
        {
            for (int InternalVar_1 = InternalParameter_1785.InternalField_587.InternalProperty_216 - 1; InternalVar_1 >= 0; --InternalVar_1)
            {
                InternalParameter_1783.InternalMethod_785(new InternalType_403(InternalParameter_1785.InternalField_587[InternalVar_1], InternalParameter_1784));
            }
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private InternalType_643 InternalMethod_1541(ref InternalType_133 InternalParameter_1662, ref InternalType_222 InternalParameter_1661)
        {
            InternalType_133 InternalVar_1 = InternalType_133.InternalField_418;
            bool InternalVar_2 = InternalParameter_1661.InternalField_586.InternalProperty_192 &&
                InternalParameter_1661.InternalField_585 != InternalField_1495 &&
                InternalField_1471.TryGetValue(InternalParameter_1661.InternalField_586, out InternalVar_1);

            ref InternalType_643 InternalVar_3 = ref InternalField_1479.InternalMethod_748(InternalParameter_1662);
            if (InternalField_762.TryGetValue(InternalParameter_1661.InternalField_585, out InternalType_643 InternalVar_4))
            {
                InternalVar_3 = InternalVar_4;

                InternalField_3689[InternalVar_4] = InternalVar_2 ? InternalField_1479[InternalVar_1] : InternalType_643.InternalField_1148;

                InternalType_448.InternalType_453 InternalVar_5 = InternalType_448.InternalMethod_1751(InternalParameter_1662, ref InternalField_1476);
                float3 InternalVar_6 = InternalVar_5.InternalProperty_398.InternalProperty_124;
                float3 InternalVar_7 = InternalType_187.InternalField_526 * InternalVar_6;

                if (InternalField_1484.ContainsKey(InternalVar_4))
                {
                    InternalVar_7.z = float.MaxValue;
                    InternalField_1484[InternalVar_3] = new InternalType_306(-InternalVar_7, InternalVar_7);
                }
            }
            else if (InternalVar_2)
            {
                InternalVar_3 = InternalField_1479[InternalVar_1];
            }
            else
            {
                InternalVar_3 = InternalType_643.InternalField_1148;
            }

            return InternalVar_3;
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private void InternalMethod_1534(ref InternalType_133 InternalParameter_1651, ref InternalType_643 InternalParameter_1650, ref InternalType_299<InternalType_71> InternalParameter_1649)
        {
            InternalType_276 InternalVar_1 = InternalType_276.InternalField_908;
            InternalVar_1.InternalField_902 = InternalType_266.InternalField_787;
            InternalVar_1.InternalField_907 = InternalField_1477[InternalParameter_1651];
            InternalVar_1.InternalField_900 = InternalParameter_1650;
            InternalVar_1.InternalField_905.InternalField_916 = InternalField_1473[InternalParameter_1649.InternalField_984].InternalField_277.InternalMethod_974();

            InternalMethod_1636(ref InternalParameter_1651, ref InternalParameter_1649, ref InternalVar_1);
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private void InternalMethod_1522(ref InternalType_133 InternalParameter_1634, ref InternalType_643 InternalParameter_1633, ref InternalType_299<InternalType_71> InternalParameter_1626)
        {
            InternalType_79 InternalVar_1 = InternalField_1475[InternalParameter_1626.InternalField_984];

            if (InternalVar_1.InternalField_3197 == 0)
            {
                return;
            }

            InternalType_276 InternalVar_2 = InternalType_276.InternalField_908;
            InternalVar_2.InternalField_902 = InternalType_266.InternalField_788;
            InternalVar_2.InternalField_907 = InternalField_1477[InternalParameter_1634];
            InternalVar_2.InternalField_900 = InternalParameter_1633;

            if (InternalType_24.InternalProperty_945.InternalField_373)
            {
                InternalVar_2.InternalField_903 |= InternalType_322.InternalField_1089;
            }

            for (int InternalVar_3 = 0; InternalVar_3 < InternalVar_1.InternalField_261.InternalProperty_216; ++InternalVar_3)
            {
                ref InternalType_110 InternalVar_4 = ref InternalVar_1.InternalField_261.InternalMethod_800(InternalVar_3);
                if (InternalVar_4.InternalField_353 == 0)
                {
                    continue;
                }

                InternalVar_2.InternalField_902 = InternalVar_3 > 0 ? InternalType_266.InternalField_790 : InternalType_266.InternalField_788;

                InternalVar_2.InternalField_906.InternalField_918 = InternalVar_4.InternalField_354;
                InternalMethod_1636(ref InternalParameter_1634, ref InternalParameter_1626, ref InternalVar_2);
            }
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private void InternalMethod_1514(ref InternalType_133 InternalParameter_1625, ref InternalType_643 InternalParameter_1624, ref InternalType_299<InternalType_71> InternalParameter_2203)
        {
            ref InternalType_80 InternalVar_1 = ref InternalField_1472.InternalMethod_748(InternalParameter_2203.InternalField_984);
            InternalType_73 InternalVar_2 = InternalField_1477[InternalParameter_1625];

            if (InternalVar_1.InternalField_270.InternalProperty_186)
            {
                InternalType_276 InternalVar_3 = InternalType_276.InternalField_908;
                InternalVar_3.InternalField_902 = InternalType_266.InternalField_789;
                InternalVar_3.InternalField_907 = InternalVar_2;
                InternalVar_3.InternalField_900 = InternalParameter_1624;

                if (InternalVar_1.InternalField_3412.InternalProperty_1066)
                {
                    InternalVar_3.InternalField_903 |= InternalType_322.InternalField_3418;
                }

                InternalMethod_1636(ref InternalParameter_1625, ref InternalParameter_2203, ref InternalVar_3);
            }

            if (!(InternalVar_1.InternalField_273 || InternalVar_1.InternalField_270.InternalProperty_187 || InternalVar_1.InternalField_269.InternalField_335))
            {
                return;
            }

            InternalType_276 InternalVar_4 = InternalType_276.InternalField_908;
            InternalVar_4.InternalField_902 = InternalType_266.InternalField_786;
            InternalVar_4.InternalField_907 = InternalVar_2;
            InternalVar_4.InternalField_900 = InternalParameter_1624;

            if (InternalVar_1.InternalField_270.InternalProperty_187)
            {
                InternalVar_4.InternalField_903 |= InternalType_322.InternalField_1088;
            }

            if (InternalVar_1.InternalField_3412.InternalProperty_1066)
            {
                InternalVar_4.InternalField_903 |= InternalType_322.InternalField_3418;
            }

            if (InternalVar_1.InternalField_269.InternalField_335)
            {
                switch (InternalVar_1.InternalField_269.InternalField_336)
                {
                    case InternalType_111.InternalField_361:
                        InternalVar_4.InternalField_903 |= InternalType_322.InternalField_1091;
                        break;
                    case InternalType_111.InternalField_360:
                        InternalVar_4.InternalField_903 |= InternalType_322.InternalField_1092;
                        break;
                    case InternalType_111.InternalField_359:
                        InternalVar_4.InternalField_903 |= InternalType_322.InternalField_1090;
                        break;
                }
            }

            if (InternalVar_1.InternalField_273 && InternalVar_1.InternalField_271.InternalProperty_168 &&
                InternalField_1482.InternalMethod_1555(InternalVar_1.InternalField_271.InternalField_276, out InternalType_311 InternalVar_5))
            {
                if (InternalVar_1.InternalField_271.InternalField_275 == InternalType_695.InternalField_2831 &&
                    InternalField_1474.InternalMethod_1559(InternalVar_5.InternalField_1025, out InternalType_282 InternalVar_6) &&
                    InternalField_1474.InternalMethod_1943(InternalVar_6))
                {
                    InternalVar_4.InternalField_903 |= InternalType_322.InternalField_1087;
                    InternalVar_4.InternalField_904.InternalField_913 = InternalVar_6;
                }
                else if (InternalField_1482.InternalMethod_1554(InternalVar_1.InternalField_271.InternalField_276, out InternalType_310 InternalVar_7))
                {
                    InternalVar_4.InternalField_903 |= InternalType_322.InternalField_1086;
                    InternalVar_4.InternalField_904.InternalField_914 = InternalVar_7;
                }
            }

            InternalField_1499.InternalMethod_1598(InternalField_1493[InternalParameter_1625], InternalProperty_338);

            InternalMethod_1636(ref InternalParameter_1625, ref InternalParameter_2203, ref InternalVar_4);
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private void InternalMethod_1636(ref InternalType_133 InternalParameter_1798, ref InternalType_299<InternalType_71> InternalParameter_1799, ref InternalType_276 InternalParameter_1800)
        {
            InternalParameter_1800.InternalField_901 = InternalParameter_1799.InternalField_983.InternalField_232;
            InternalType_301 InternalVar_1 = InternalField_1496.InternalMethod_1346(ref InternalParameter_1800);
            InternalField_1498.InternalMethod_761(new InternalType_373(ref InternalParameter_1798, ref InternalParameter_1799.InternalField_984, ref InternalVar_1, InternalParameter_1800.InternalField_902));
            InternalField_1497.InternalMethod_1281(InternalField_1498.InternalProperty_216 - 1, InternalParameter_1799.InternalField_983.InternalField_233);
        }
    }
}

